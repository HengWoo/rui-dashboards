<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ¡Œè®¿åé¦ˆä»ªè¡¨ç›˜ â€” æœ‰ç‚¹ä¸œè¥¿</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600;700;900&family=DM+Mono:wght@400;500&family=Fraunces:wght@700;900&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#faf9f7;--bg-card:#fff;--bg-deep:#f3f1ee;--bg-hover:#f7f5f2;
  --border:#e8e5df;--border-strong:#d4d0c8;
  --teal:#0d9488;--teal-light:#ccfbf1;--teal-dim:#134e4a;
  --rose:#e11d48;--rose-light:#fff1f2;--rose-dim:#881337;
  --amber:#d97706;--amber-light:#fef3c7;--amber-dim:#92400e;
  --indigo:#4f46e5;--indigo-light:#eef2ff;--indigo-dim:#3730a3;
  --slate:#64748b;--slate-light:#f1f5f9;
  --green:#16a34a;--green-light:#dcfce7;
  --text:#1c1917;--text-secondary:#57534e;--text-muted:#a8a29e;
  --font-body:'Noto Sans SC',system-ui,sans-serif;
  --font-mono:'DM Mono',monospace;
  --font-display:'Fraunces',serif;
  --shadow-sm:0 1px 2px rgba(0,0,0,.04);
  --shadow:0 2px 8px rgba(0,0,0,.06);
  --shadow-lg:0 8px 24px rgba(0,0,0,.08);
}
html{font-size:14px;-webkit-font-smoothing:antialiased}
body{font-family:var(--font-body);background:var(--bg);color:var(--text);min-height:100vh}

/* Header */
.header{background:var(--bg-card);border-bottom:1px solid var(--border);padding:0 2rem;position:sticky;top:0;z-index:100}
.header-inner{max-width:1520px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;height:60px}
.brand{display:flex;align-items:center;gap:.85rem}
.brand-icon{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,var(--teal),#2dd4bf);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:900;font-size:15px;font-family:var(--font-display);letter-spacing:-1px}
.brand h1{font-size:1.05rem;font-weight:700;color:var(--text);letter-spacing:.01em}
.brand h1 span{color:var(--text-muted);font-weight:400;margin-left:.4rem;font-size:.8rem}
.header-right{display:flex;align-items:center;gap:1.25rem}
.header-date{font-family:var(--font-mono);font-size:.82rem;color:var(--text-secondary);background:var(--bg-deep);padding:4px 12px;border-radius:8px}
.brand-tags{display:flex;gap:.4rem}
.tag{padding:3px 10px;border-radius:6px;font-size:.68rem;font-weight:600;letter-spacing:.03em}
.tag-ylb{background:#fef3c7;color:#92400e;border:1px solid #fde68a}
.tag-ngx{background:#ffedd5;color:#9a3412;border:1px solid #fed7aa}
.period-select{font-family:var(--font-body);font-size:.8rem;padding:5px 12px;border-radius:8px;border:1px solid var(--border);background:var(--bg-card);color:var(--text);cursor:pointer;outline:none}
.period-select:focus{border-color:var(--teal)}

/* Layout */
.dashboard{max-width:1520px;margin:0 auto;padding:1.5rem 2rem 3rem}

/* KPI */
.kpi-row{display:grid;grid-template-columns:repeat(5,1fr);gap:.85rem;margin-bottom:1.25rem}
.kpi{background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:1.1rem 1.25rem;transition:all .25s;box-shadow:var(--shadow-sm)}
.kpi:hover{box-shadow:var(--shadow);transform:translateY(-1px)}
.kpi-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:.6rem}
.kpi-label{font-size:.75rem;color:var(--text-muted);font-weight:500}
.kpi-icon{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:14px}
.kpi-val{font-family:var(--font-mono);font-size:1.75rem;font-weight:700;line-height:1;margin-bottom:.3rem}
.kpi-trend{font-size:.7rem;font-family:var(--font-mono);display:flex;align-items:center;gap:.25rem}
.kpi-trend.good{color:var(--green)}.kpi-trend.bad{color:var(--rose)}
.kpi-sub{color:var(--text-muted);font-size:.7rem}

/* Grid */
.row{display:grid;gap:.85rem;margin-bottom:.85rem}
.row-2{grid-template-columns:1fr 1fr}
.row-3{grid-template-columns:1fr 1fr 1fr}
.row-2-1{grid-template-columns:5fr 3fr}
.row-1-2{grid-template-columns:3fr 5fr}

/* Panel */
.panel{background:var(--bg-card);border:1px solid var(--border);border-radius:14px;padding:1.15rem 1.35rem;box-shadow:var(--shadow-sm)}
.panel:hover{box-shadow:var(--shadow)}
.panel-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}
.panel-title{font-size:.85rem;font-weight:600;display:flex;align-items:center;gap:.45rem}
.panel-badge{font-size:.62rem;padding:2px 8px;border-radius:6px;font-weight:600;font-family:var(--font-mono)}

/* Chart */
.chart-box{position:relative;height:220px}
.chart-box-lg{position:relative;height:260px}

/* Feedback cards */
.fb-list{display:flex;flex-direction:column;gap:.55rem;max-height:360px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--border) transparent}
.fb-card{padding:.7rem .85rem;border-radius:10px;background:var(--bg);border:1px solid var(--border);transition:all .2s}
.fb-card:hover{border-color:var(--border-strong);background:var(--bg-hover)}
.fb-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:.35rem}
.fb-store{font-size:.72rem;font-weight:600;padding:2px 8px;border-radius:5px}
.fb-time{font-size:.68rem;color:var(--text-muted);font-family:var(--font-mono)}
.fb-content{font-size:.82rem;color:var(--text-secondary);line-height:1.5;margin-bottom:.4rem}
.fb-footer{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}
.fb-tag{font-size:.62rem;padding:2px 7px;border-radius:4px;font-weight:500}
.fb-tag.pos{background:var(--green-light);color:var(--green)}
.fb-tag.neg{background:var(--rose-light);color:var(--rose)}
.fb-tag.sug{background:var(--amber-light);color:var(--amber)}
.fb-tag.neu{background:var(--slate-light);color:var(--slate)}
.fb-sentiment{display:flex;align-items:center;gap:.25rem;font-size:.68rem;font-weight:600;margin-left:auto}

/* Score ring */
.score-ring-wrap{display:flex;align-items:center;justify-content:center;padding:1rem 0}
.score-ring{position:relative;width:140px;height:140px}
.score-ring svg{transform:rotate(-90deg)}
.score-ring-bg{fill:none;stroke:var(--bg-deep);stroke-width:10}
.score-ring-fg{fill:none;stroke-width:10;stroke-linecap:round;transition:stroke-dashoffset .8s ease}
.score-center{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}
.score-num{font-family:var(--font-mono);font-size:2rem;font-weight:700;line-height:1}
.score-label{font-size:.7rem;color:var(--text-muted);margin-top:2px}

/* Store bars */
.store-row{display:flex;align-items:center;gap:.75rem;padding:.5rem 0;border-bottom:1px solid var(--bg-deep)}
.store-row:last-child{border-bottom:none}
.store-name{font-size:.8rem;font-weight:500;min-width:80px}
.store-bar-wrap{flex:1;height:8px;background:var(--bg-deep);border-radius:4px;overflow:hidden}
.store-bar{height:100%;border-radius:4px;transition:width .6s ease}
.store-score{font-family:var(--font-mono);font-size:.8rem;font-weight:600;min-width:40px;text-align:right}

/* Issue table */
.issue-list{display:flex;flex-direction:column;gap:.4rem}
.issue-row{display:grid;grid-template-columns:1fr 60px 80px;align-items:center;padding:.5rem .6rem;border-radius:8px;background:var(--bg)}
.issue-name{font-size:.8rem;font-weight:500}
.issue-count{font-family:var(--font-mono);font-size:.78rem;text-align:center;font-weight:600}
.issue-bar-mini{height:4px;border-radius:2px;background:var(--bg-deep);overflow:hidden}
.issue-bar-fill{height:100%;border-radius:2px}

/* Action items */
.action-list{display:flex;flex-direction:column;gap:.5rem}
.action-item{display:flex;align-items:flex-start;gap:.6rem;padding:.6rem .75rem;border-radius:10px;background:var(--bg);border:1px solid var(--border)}
.action-priority{width:6px;min-height:32px;border-radius:3px;flex-shrink:0;margin-top:2px}
.action-priority.high{background:var(--rose)}
.action-priority.mid{background:var(--amber)}
.action-priority.low{background:var(--teal)}
.action-body{flex:1}
.action-title{font-size:.82rem;font-weight:600;margin-bottom:.2rem}
.action-desc{font-size:.72rem;color:var(--text-muted);line-height:1.4}
.action-meta{display:flex;align-items:center;gap:.5rem;margin-top:.3rem}
.action-owner{font-size:.65rem;padding:2px 7px;border-radius:4px;background:var(--indigo-light);color:var(--indigo);font-weight:500}
.action-due{font-size:.65rem;color:var(--text-muted);font-family:var(--font-mono)}

/* Wordcloud substitute - tag cloud */
.keyword-cloud{display:flex;flex-wrap:wrap;gap:.4rem;align-items:center;justify-content:center;padding:.5rem 0}
.kw{padding:4px 12px;border-radius:20px;font-weight:500;cursor:default;transition:all .2s;border:1px solid transparent}
.kw:hover{transform:scale(1.05)}
.kw-xl{font-size:1.05rem}.kw-lg{font-size:.9rem}.kw-md{font-size:.78rem}.kw-sm{font-size:.68rem}

/* Responsive */
@media(max-width:1200px){.kpi-row{grid-template-columns:repeat(3,1fr)}.row-2,.row-3,.row-2-1,.row-1-2{grid-template-columns:1fr}}
@media(max-width:768px){.kpi-row{grid-template-columns:1fr 1fr}.dashboard{padding:1rem}.brand-tags{display:none}}

::-webkit-scrollbar{width:4px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}
.fade-in{animation:fadeIn .5s ease both}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}
.d1{animation-delay:.05s}.d2{animation-delay:.1s}.d3{animation-delay:.15s}.d4{animation-delay:.2s}.d5{animation-delay:.25s}
</style>
</head>
<body>

<header class="header">
  <div class="header-inner">
    <div class="brand">
      <div class="brand-icon">æ¡Œ</div>
      <h1>æ¡Œè®¿åé¦ˆä¸­å¿ƒ<span>Table Visit Insights</span></h1>
      <div class="brand-tags">
        <span class="tag tag-ylb">é‡ç™¾çµ</span>
        <span class="tag tag-ngx">å®æ¡‚æ</span>
      </div>
    </div>
    <div class="header-right">
      <select class="period-select" id="periodSelect">
        <option value="week" selected>æœ¬å‘¨ (2/10 - 2/17)</option>
        <option value="month">æœ¬æœˆ</option>
        <option value="quarter">æœ¬å­£åº¦</option>
      </select>
      <div class="header-date" id="headerDate">2026-02-17</div>
    </div>
  </div>
</header>

<main class="dashboard">

  <!-- KPI Row -->
  <div class="kpi-row">
    <div class="kpi fade-in">
      <div class="kpi-top">
        <span class="kpi-label">æ¡Œè®¿æ€»é‡</span>
        <div class="kpi-icon" style="background:var(--teal-light)">ğŸ“‹</div>
      </div>
      <div class="kpi-val" style="color:var(--teal)">247</div>
      <div class="kpi-trend good">â†‘ 18% <span class="kpi-sub">vs ä¸Šå‘¨</span></div>
    </div>
    <div class="kpi fade-in d1">
      <div class="kpi-top">
        <span class="kpi-label">æ»¡æ„åº¦</span>
        <div class="kpi-icon" style="background:var(--green-light)">ğŸ˜Š</div>
      </div>
      <div class="kpi-val" style="color:var(--green)">87.3<span style="font-size:.9rem">%</span></div>
      <div class="kpi-trend good">â†‘ 2.1% <span class="kpi-sub">vs ä¸Šå‘¨</span></div>
    </div>
    <div class="kpi fade-in d2">
      <div class="kpi-top">
        <span class="kpi-label">å·®è¯„æåŠ</span>
        <div class="kpi-icon" style="background:var(--rose-light)">âš ï¸</div>
      </div>
      <div class="kpi-val" style="color:var(--rose)">31</div>
      <div class="kpi-trend bad">â†‘ 5æ¡ <span class="kpi-sub">éœ€è·Ÿè¿›</span></div>
    </div>
    <div class="kpi fade-in d3">
      <div class="kpi-top">
        <span class="kpi-label">é—®é¢˜è§£å†³ç‡</span>
        <div class="kpi-icon" style="background:var(--indigo-light)">âœ…</div>
      </div>
      <div class="kpi-val" style="color:var(--indigo)">76<span style="font-size:.9rem">%</span></div>
      <div class="kpi-trend good">â†‘ 8% <span class="kpi-sub">æŒç»­æ”¹å–„</span></div>
    </div>
    <div class="kpi fade-in d4">
      <div class="kpi-top">
        <span class="kpi-label">NPS å‡€æ¨èå€¼</span>
        <div class="kpi-icon" style="background:var(--amber-light)">â­</div>
      </div>
      <div class="kpi-val" style="color:var(--amber)">+42</div>
      <div class="kpi-trend good">â†‘ 6pts <span class="kpi-sub">è‰¯å¥½</span></div>
    </div>
  </div>

  <!-- Row 2: Satisfaction Score + Trend -->
  <div class="row row-1-2 fade-in d3">
    <div class="panel">
      <div class="panel-head">
        <span class="panel-title">ğŸ¯ ç»¼åˆæ»¡æ„åº¦</span>
        <span class="panel-badge" style="background:var(--green-light);color:var(--green)">è‰¯å¥½</span>
      </div>
      <div class="score-ring-wrap">
        <div class="score-ring">
          <svg width="140" height="140" viewBox="0 0 140 140">
            <circle class="score-ring-bg" cx="70" cy="70" r="58"/>
            <circle class="score-ring-fg" cx="70" cy="70" r="58"
              stroke="#16a34a"
              stroke-dasharray="364.42"
              stroke-dashoffset="46.3"/>
          </svg>
          <div class="score-center">
            <span class="score-num" style="color:var(--green)">87.3</span>
            <span class="score-label">æ»¡æ„åº¦</span>
          </div>
        </div>
      </div>
      <div id="satisfactionBreakdown" style="display:flex;justify-content:center;gap:1.5rem;font-size:.75rem"></div>
    </div>
    <div class="panel">
      <div class="panel-head">
        <span class="panel-title">ğŸ“ˆ æ»¡æ„åº¦è¶‹åŠ¿</span>
        <span class="panel-badge" style="background:var(--teal-light);color:var(--teal)">è¿‘4å‘¨</span>
      </div>
      <div class="chart-box-lg"><canvas id="trendChart"></canvas></div>
    </div>
  </div>

  <!-- Row 3: Feedback List + Sentiment Pie -->
  <div class="row row-2-1 fade-in d4">
    <div class="panel">
      <div class="panel-head">
        <span class="panel-title">ğŸ’¬ è¿‘æœŸæ¡Œè®¿è®°å½•</span>
        <span class="panel-badge" style="background:var(--bg-deep);color:var(--text-secondary)">æœ€æ–° 12 æ¡</span>
      </div>
      <div class="fb-list" id="fbList"></div>
    </div>
    <div class="panel">
      <div class="panel-head">
        <span class="panel-title">ğŸ§  æƒ…æ„Ÿåˆ†å¸ƒ</span>
        <span class="panel-badge" style="background:var(--amber-light);color:var(--amber)">æœ¬å‘¨</span>
      </div>
      <div class="chart-box"><canvas id="sentimentChart"></canvas></div>
    </div>
  </div>

  <!-- Row 4: Store Compare + Issue Ranking + Keywords -->
  <div class="row row-3 fade-in d5">
    <div class="panel">
      <div class="panel-head">
        <span class="panel-title">ğŸª é—¨åº—æ»¡æ„åº¦å¯¹æ¯”</span>
      </div>
      <div id="storeCompare"></div>
    </div>
    <div class="panel">
      <div class="panel-head">
        <span class="panel-title">ğŸ” é—®é¢˜åˆ†ç±»æ’è¡Œ</span>
        <span class="panel-badge" style="background:var(--rose-light);color:var(--rose)">TOP 7</span>
      </div>
      <div class="chart-box"><canvas id="issueChart"></canvas></div>
    </div>
    <div class="panel">
      <div class="panel-head">
        <span class="panel-title">â˜ï¸ é«˜é¢‘å…³é”®è¯</span>
      </div>
      <div class="keyword-cloud" id="kwCloud"></div>
    </div>
  </div>

  <!-- Row 5: Action Items + Category Radar -->
  <div class="row row-2 fade-in d5">
    <div class="panel">
      <div class="panel-head">
        <span class="panel-title">ğŸ“Œ å¾…è·Ÿè¿›äº‹é¡¹</span>
        <span class="panel-badge" style="background:var(--rose-light);color:var(--rose)">3 é¡¹ç´§æ€¥</span>
      </div>
      <div class="action-list" id="actionList"></div>
    </div>
    <div class="panel">
      <div class="panel-head">
        <span class="panel-title">ğŸ•¸ï¸ å„ç»´åº¦è¯„åˆ†</span>
        <span class="panel-badge" style="background:var(--indigo-light);color:var(--indigo)">é›·è¾¾å›¾</span>
      </div>
      <div class="chart-box-lg"><canvas id="radarChart"></canvas></div>
    </div>
  </div>

</main>

<script>
(function(){
  'use strict';

  function el(tag,attrs,children){
    var e=document.createElement(tag);
    if(attrs){Object.keys(attrs).forEach(function(k){
      if(k==='className')e.className=attrs[k];
      else if(k==='style')e.style.cssText=attrs[k];
      else if(k==='textContent')e.textContent=attrs[k];
      else e.setAttribute(k,attrs[k]);
    })}
    if(children){children.forEach(function(c){
      if(typeof c==='string')e.appendChild(document.createTextNode(c));
      else if(c)e.appendChild(c);
    })}
    return e;
  }

  // Satisfaction breakdown
  var satData=[{label:'éå¸¸æ»¡æ„',pct:'42%',color:'var(--green)'},{label:'æ»¡æ„',pct:'45.3%',color:'var(--teal)'},{label:'ä¸€èˆ¬',pct:'8.5%',color:'var(--amber)'},{label:'ä¸æ»¡æ„',pct:'4.2%',color:'var(--rose)'}];
  var satWrap=document.getElementById('satisfactionBreakdown');
  satData.forEach(function(s){
    var item=el('div',{style:'text-align:center'},[
      el('div',{style:'font-family:DM Mono;font-weight:700;color:'+s.color+';font-size:.9rem',textContent:s.pct}),
      el('div',{style:'color:var(--text-muted);margin-top:2px',textContent:s.label})
    ]);
    satWrap.appendChild(item);
  });

  // Trend Chart
  new Chart(document.getElementById('trendChart'),{
    type:'line',
    data:{
      labels:['1/20','1/27','2/3','2/10','2/17'],
      datasets:[
        {label:'é‡ç™¾çµ',data:[82.5,84.1,85.8,86.2,88.5],borderColor:'#d97706',backgroundColor:'rgba(217,119,6,.06)',fill:true,tension:.35,pointBackgroundColor:'#d97706',pointRadius:5,pointHoverRadius:7,borderWidth:2.5},
        {label:'å®æ¡‚æ',data:[80.2,81.8,83.5,85.0,86.1],borderColor:'#0d9488',backgroundColor:'rgba(13,148,136,.06)',fill:true,tension:.35,pointBackgroundColor:'#0d9488',pointRadius:5,pointHoverRadius:7,borderWidth:2.5}
      ]
    },
    options:{
      responsive:true,maintainAspectRatio:false,
      plugins:{legend:{position:'bottom',labels:{color:'#57534e',usePointStyle:true,pointStyle:'circle',padding:16,font:{family:'Noto Sans SC',size:12}}},tooltip:{backgroundColor:'#1c1917',titleColor:'#fafaf9',bodyColor:'#a8a29e',padding:10,cornerRadius:8,bodyFont:{family:'DM Mono'},callbacks:{label:function(c){return'  '+c.dataset.label+': '+c.raw+'%'}}}},
      scales:{
        x:{grid:{color:'rgba(0,0,0,.04)',drawBorder:false},ticks:{color:'#a8a29e',font:{family:'DM Mono',size:11}}},
        y:{min:78,max:92,grid:{color:'rgba(0,0,0,.04)',drawBorder:false},ticks:{color:'#a8a29e',font:{family:'DM Mono',size:11},callback:function(v){return v+'%'}}}
      }
    }
  });

  // Feedback List
  var feedbacks=[
    {store:'ä¸Šé©¬Â·é‡ç™¾çµ',storeColor:'background:#fef3c7;color:#92400e',time:'2/17 12:30',content:'èœå“å£å‘³å¾ˆå¥½ï¼Œç‰¹åˆ«æ˜¯æ¡‚èŠ±ç³–è—•ï¼Œç”œåº¦é€‚ä¸­ã€‚ä½†ä¸Šèœé€Ÿåº¦æœ‰ç‚¹æ…¢ï¼Œç­‰äº†å¿«20åˆ†é’Ÿã€‚',tags:[{t:'å£å‘³å¥½è¯„',c:'pos'},{t:'ä¸Šèœæ…¢',c:'neg'}],sentiment:'ğŸ˜Š ç§¯æ',sentColor:'var(--green)'},
    {store:'ä¸Šé©¬Â·å®æ¡‚æ',storeColor:'background:#ffedd5;color:#9a3412',time:'2/17 12:15',content:'ç¯å¢ƒå¾ˆå¥½ï¼ŒæœåŠ¡æ€åº¦ä¹Ÿä¸é”™ã€‚å°±æ˜¯ç©ºè°ƒæ¸©åº¦å¤ªä½äº†ï¼Œåé çª—ä½ç½®æœ‰ç‚¹å†·ã€‚',tags:[{t:'ç¯å¢ƒå¥½',c:'pos'},{t:'æ¸©åº¦é—®é¢˜',c:'sug'}],sentiment:'ğŸ˜Š ç§¯æ',sentColor:'var(--green)'},
    {store:'è™¹æ¡¥Â·é‡ç™¾çµ',storeColor:'background:#fef3c7;color:#92400e',time:'2/17 11:45',content:'çº¢çƒ§è‚‰åå’¸äº†ï¼Œè·Ÿä¸Šæ¬¡æ¥çš„å£å‘³ä¸å¤ªä¸€æ ·ã€‚å¸Œæœ›èƒ½ä¿æŒç¨³å®šã€‚',tags:[{t:'å£å‘³ä¸ç¨³',c:'neg'},{t:'å¤è´­å®¢',c:'neu'}],sentiment:'ğŸ˜ ä¸­æ€§',sentColor:'var(--amber)'},
    {store:'ä¸Šé©¬Â·é‡ç™¾çµ',storeColor:'background:#fef3c7;color:#92400e',time:'2/17 11:30',content:'ç¬¬ä¸€æ¬¡æ¥ï¼Œæœ‹å‹æ¨èçš„ã€‚çƒ¤é¸¡ç¡®å®å¥½åƒï¼ä¼šå†æ¥ï¼Œå¸Œæœ›èƒ½æœ‰ä¼šå‘˜ä¼˜æƒ ã€‚',tags:[{t:'æ–°å®¢',c:'neu'},{t:'çƒ¤é¸¡å¥½è¯„',c:'pos'},{t:'ä¼šå‘˜éœ€æ±‚',c:'sug'}],sentiment:'ğŸ˜Š ç§¯æ',sentColor:'var(--green)'},
    {store:'é™å®‰Â·å®æ¡‚æ',storeColor:'background:#ffedd5;color:#9a3412',time:'2/16 19:20',content:'æœåŠ¡å‘˜æ€åº¦å¾ˆå¥½ï¼Œä¸»åŠ¨å¸®å¿™æ¨èèœå“ã€‚å°±æ˜¯ç­‰ä½æ—¶é—´å¤ªé•¿äº†ï¼Œå°†è¿‘40åˆ†é’Ÿã€‚',tags:[{t:'æœåŠ¡å¥½',c:'pos'},{t:'ç­‰ä½ä¹…',c:'neg'}],sentiment:'ğŸ˜ ä¸­æ€§',sentColor:'var(--amber)'},
    {store:'å¾æ±‡Â·é‡ç™¾çµ',storeColor:'background:#fef3c7;color:#92400e',time:'2/16 18:50',content:'ä»Šå¤©ç‚¹çš„é…¸èœé±¼ä¸å¤Ÿè¾£ï¼Œè·Ÿèœå•ä¸Šå†™çš„é‡è¾£å·®è·å¾ˆå¤§ã€‚è€Œä¸”é±¼åˆºæ¯”è¾ƒå¤šã€‚',tags:[{t:'å£å‘³å·®è·',c:'neg'},{t:'èœå“é—®é¢˜',c:'neg'}],sentiment:'ğŸ˜ æ¶ˆæ',sentColor:'var(--rose)'},
    {store:'ä¸Šé©¬Â·å®æ¡‚æ',storeColor:'background:#ffedd5;color:#9a3412',time:'2/16 13:10',content:'å®æ¡‚ææ‹¼ç›˜å¾ˆç²¾è‡´ï¼Œé€‚åˆæ‹ç…§æ‰“å¡ã€‚ä»·æ ¼ä¹Ÿè¿˜å¯ä»¥æ¥å—ï¼Œæ€§ä»·æ¯”ä¸é”™ã€‚',tags:[{t:'é¢œå€¼é«˜',c:'pos'},{t:'æ€§ä»·æ¯”',c:'pos'}],sentiment:'ğŸ˜Š ç§¯æ',sentColor:'var(--green)'},
    {store:'è™¹æ¡¥Â·é‡ç™¾çµ',storeColor:'background:#fef3c7;color:#92400e',time:'2/16 12:40',content:'åˆå¸‚å¥—é¤é€‰æ‹©å¤ªå°‘äº†ï¼Œå°±ä¸‰ä¸ªé€‰é¡¹ã€‚èƒ½ä¸èƒ½å¤šåŠ å‡ ä¸ªï¼Ÿå¸¦å°å­©æ¥æ²¡ä»€ä¹ˆå„¿ç«¥é¤ã€‚',tags:[{t:'èœå•å»ºè®®',c:'sug'},{t:'å„¿ç«¥éœ€æ±‚',c:'sug'}],sentiment:'ğŸ˜ ä¸­æ€§',sentColor:'var(--amber)'},
    {store:'ä¸Šé©¬Â·é‡ç™¾çµ',storeColor:'background:#fef3c7;color:#92400e',time:'2/15 19:30',content:'å¾ˆæ»¡æ„ï¼æ¯é“èœéƒ½å¾ˆç²¾è‡´ï¼Œé¾™äº•è™¾ä»æ˜¯æˆ‘åƒè¿‡æœ€å¥½çš„ã€‚ä¸‹æ¬¡å¸¦å®¶äººå†æ¥ã€‚',tags:[{t:'é«˜åº¦å¥½è¯„',c:'pos'},{t:'é¾™äº•è™¾ä»',c:'pos'}],sentiment:'ğŸ˜Š ç§¯æ',sentColor:'var(--green)'},
    {store:'é™å®‰Â·å®æ¡‚æ',storeColor:'background:#ffedd5;color:#9a3412',time:'2/15 18:15',content:'æ¡Œå­æ²¡æ“¦å¹²å‡€å°±è®©æˆ‘ä»¬åäº†ï¼Œé¤å…·ä¸Šè¿˜æœ‰æ°´æ¸ã€‚å«ç”Ÿç»†èŠ‚è¦æ³¨æ„ã€‚',tags:[{t:'å«ç”Ÿé—®é¢˜',c:'neg'}],sentiment:'ğŸ˜ æ¶ˆæ',sentColor:'var(--rose)'},
    {store:'å¾æ±‡Â·é‡ç™¾çµ',storeColor:'background:#fef3c7;color:#92400e',time:'2/15 12:50',content:'ä¸Šèœé¡ºåºæœ‰ç‚¹ä¹±ï¼Œå‡‰èœå’Œçƒ­èœæ··ç€ä¸Šã€‚å…¶ä»–éƒ½è¿˜å¥½ï¼Œå‘³é“æ˜¯ä¸é”™çš„ã€‚',tags:[{t:'ä¸Šèœé¡ºåº',c:'neg'},{t:'å£å‘³å¥½',c:'pos'}],sentiment:'ğŸ˜ ä¸­æ€§',sentColor:'var(--amber)'},
    {store:'ä¸Šé©¬Â·å®æ¡‚æ',storeColor:'background:#ffedd5;color:#9a3412',time:'2/14 20:00',content:'æƒ…äººèŠ‚å¥—é¤å¾ˆç”¨å¿ƒï¼Œæ‘†ç›˜å¾ˆæ¼‚äº®ã€‚å°±æ˜¯ç”œå“æä»è±†è…æœ‰ç‚¹å¤ªç”œäº†ã€‚',tags:[{t:'èŠ‚æ—¥æ´»åŠ¨',c:'pos'},{t:'ç”œåº¦åé«˜',c:'sug'}],sentiment:'ğŸ˜Š ç§¯æ',sentColor:'var(--green)'}
  ];
  var fbEl=document.getElementById('fbList');
  feedbacks.forEach(function(f){
    var tagEls=f.tags.map(function(t){return el('span',{className:'fb-tag '+t.c,textContent:t.t})});
    var sentEl=el('span',{className:'fb-sentiment',style:'color:'+f.sentColor,textContent:f.sentiment});
    tagEls.push(sentEl);
    var card=el('div',{className:'fb-card'},[
      el('div',{className:'fb-top'},[
        el('span',{className:'fb-store',style:f.storeColor,textContent:f.store}),
        el('span',{className:'fb-time',textContent:f.time})
      ]),
      el('div',{className:'fb-content',textContent:f.content}),
      el('div',{className:'fb-footer'},tagEls)
    ]);
    fbEl.appendChild(card);
  });

  // Sentiment Chart
  new Chart(document.getElementById('sentimentChart'),{
    type:'doughnut',
    data:{
      labels:['éå¸¸æ»¡æ„','æ»¡æ„','ä¸€èˆ¬','ä¸æ»¡æ„'],
      datasets:[{data:[42,45.3,8.5,4.2],backgroundColor:['rgba(22,163,74,.75)','rgba(13,148,136,.7)','rgba(217,119,6,.65)','rgba(225,29,72,.65)'],borderColor:'#fff',borderWidth:3,hoverOffset:6}]
    },
    options:{
      responsive:true,maintainAspectRatio:false,cutout:'62%',
      plugins:{legend:{position:'bottom',labels:{color:'#57534e',usePointStyle:true,pointStyle:'circle',padding:12,font:{family:'Noto Sans SC',size:11}}},tooltip:{backgroundColor:'#1c1917',titleColor:'#fafaf9',bodyColor:'#a8a29e',padding:10,cornerRadius:8,bodyFont:{family:'DM Mono'},callbacks:{label:function(c){return'  '+c.label+': '+c.raw+'%'}}}}
    }
  });

  // Store Compare
  var stores=[
    {name:'ä¸Šé©¬Â·é‡ç™¾çµ',score:91.2,color:'#d97706'},
    {name:'ä¸Šé©¬Â·å®æ¡‚æ',score:88.5,color:'#ea580c'},
    {name:'é™å®‰Â·å®æ¡‚æ',score:86.8,color:'#0d9488'},
    {name:'è™¹æ¡¥Â·é‡ç™¾çµ',score:84.3,color:'#d97706'},
    {name:'å¾æ±‡Â·é‡ç™¾çµ',score:79.6,color:'#ef4444'}
  ];
  var storeEl=document.getElementById('storeCompare');
  stores.forEach(function(s){
    var scoreColor=s.score>=88?'var(--green)':s.score>=83?'var(--amber)':'var(--rose)';
    var row=el('div',{className:'store-row'},[
      el('span',{className:'store-name',textContent:s.name}),
      el('div',{className:'store-bar-wrap'},[
        el('div',{className:'store-bar',style:'width:'+s.score+'%;background:'+s.color})
      ]),
      el('span',{className:'store-score',style:'color:'+scoreColor,textContent:s.score.toFixed(1)})
    ]);
    storeEl.appendChild(row);
  });

  // Issue Chart
  new Chart(document.getElementById('issueChart'),{
    type:'bar',
    data:{
      labels:['ä¸Šèœé€Ÿåº¦','å£å‘³ä¸ç¨³å®š','ç­‰ä½æ—¶é—´','å«ç”Ÿç»†èŠ‚','æœåŠ¡æ€åº¦','èœå•ä¸°å¯Œåº¦','æ¸©åº¦/ç¯å¢ƒ'],
      datasets:[{data:[38,27,22,18,12,10,8],backgroundColor:['rgba(225,29,72,.6)','rgba(225,29,72,.5)','rgba(217,119,6,.55)','rgba(217,119,6,.45)','rgba(100,116,139,.45)','rgba(100,116,139,.35)','rgba(100,116,139,.25)'],borderRadius:5,barPercentage:.65}]
    },
    options:{
      indexAxis:'y',responsive:true,maintainAspectRatio:false,
      plugins:{legend:{display:false},tooltip:{backgroundColor:'#1c1917',titleColor:'#fafaf9',bodyColor:'#a8a29e',padding:10,cornerRadius:8,bodyFont:{family:'DM Mono'},callbacks:{label:function(c){return'  '+c.raw+' æ¬¡æåŠ'}}}},
      scales:{
        x:{grid:{color:'rgba(0,0,0,.04)',drawBorder:false},ticks:{color:'#a8a29e',font:{family:'DM Mono',size:11}}},
        y:{grid:{display:false},ticks:{color:'#57534e',font:{family:'Noto Sans SC',size:11.5}}}
      }
    }
  });

  // Keywords Cloud
  var keywords=[
    {t:'å£å‘³å¥½',s:'xl',bg:'var(--green-light)',c:'var(--green)'},{t:'ä¸Šèœæ…¢',s:'xl',bg:'var(--rose-light)',c:'var(--rose)'},
    {t:'ç¯å¢ƒå¥½',s:'lg',bg:'var(--teal-light)',c:'var(--teal)'},{t:'çƒ¤é¸¡',s:'lg',bg:'var(--amber-light)',c:'var(--amber)'},
    {t:'æœåŠ¡æ€åº¦',s:'lg',bg:'var(--indigo-light)',c:'var(--indigo)'},{t:'æ€§ä»·æ¯”',s:'md',bg:'var(--green-light)',c:'var(--green)'},
    {t:'ç­‰ä½',s:'md',bg:'var(--rose-light)',c:'var(--rose)'},{t:'æ¡‚èŠ±ç³–è—•',s:'md',bg:'var(--amber-light)',c:'var(--amber)'},
    {t:'ä¼šå†æ¥',s:'md',bg:'var(--teal-light)',c:'var(--teal)'},{t:'åå’¸',s:'sm',bg:'var(--rose-light)',c:'var(--rose)'},
    {t:'æ‹ç…§æ‰“å¡',s:'sm',bg:'var(--indigo-light)',c:'var(--indigo)'},{t:'å„¿ç«¥é¤',s:'sm',bg:'var(--amber-light)',c:'var(--amber)'},
    {t:'é¾™äº•è™¾ä»',s:'sm',bg:'var(--green-light)',c:'var(--green)'},{t:'å«ç”Ÿ',s:'sm',bg:'var(--rose-light)',c:'var(--rose)'},
    {t:'ç²¾è‡´',s:'sm',bg:'var(--teal-light)',c:'var(--teal)'},{t:'ç©ºè°ƒå†·',s:'sm',bg:'var(--slate-light)',c:'var(--slate)'},
    {t:'å¥—é¤å°‘',s:'sm',bg:'var(--amber-light)',c:'var(--amber)'},{t:'æ‘†ç›˜',s:'sm',bg:'var(--green-light)',c:'var(--green)'}
  ];
  var kwEl=document.getElementById('kwCloud');
  keywords.forEach(function(k){
    kwEl.appendChild(el('span',{className:'kw kw-'+k.s,style:'background:'+k.bg+';color:'+k.c,textContent:k.t}));
  });

  // Action Items
  var actions=[
    {priority:'high',title:'ä¸Šé©¬åº—å‡ºé¤é€Ÿåº¦ä¼˜åŒ–',desc:'æœ¬å‘¨ä¸Šèœæ…¢ç›¸å…³åé¦ˆ38æ¬¡ï¼Œå å·®è¯„é¦–ä½ã€‚å»ºè®®åˆé«˜å³°å¢åŠ 1åé…èœäººå‘˜ã€‚',owner:'å¨æˆ¿ä¸»ç®¡',due:'2/19'},
    {priority:'high',title:'å¾æ±‡åº—å£å‘³æ ‡å‡†åŒ–åŸ¹è®­',desc:'é…¸èœé±¼ã€çº¢çƒ§è‚‰å£å‘³æŠ•è¯‰é›†ä¸­ï¼Œç–‘ä¼¼è°ƒå‘³é…æ¯”åå·®ã€‚éœ€ç»Ÿä¸€SOPå¤è®­ã€‚',owner:'å“æ§ç»ç†',due:'2/20'},
    {priority:'high',title:'é™å®‰åº—å«ç”Ÿå·¡æ£€æ•´æ”¹',desc:'é¤æ¡Œæ¸…æ´ã€é¤å…·æ°´æ¸é—®é¢˜2æ¬¡è¢«æåŠã€‚å®‰æ’ä¸“é¡¹æ£€æŸ¥å¹¶è½å®è´£ä»»åˆ¶ã€‚',owner:'åº—é•¿',due:'2/18'},
    {priority:'mid',title:'è™¹æ¡¥åº—åˆå¸‚å¥—é¤æ‰©å……',desc:'é¡¾å®¢åé¦ˆåˆå¸‚é€‰æ‹©å¤ªå°‘ï¼Œç¼ºä¹å„¿ç«¥é¤ã€‚å»ºè®®å¢åŠ 2-3ä¸ªå¥—é¤é€‰é¡¹ã€‚',owner:'èœå“ç ”å‘',due:'2/24'},
    {priority:'mid',title:'å®æ¡‚æç”œå“ç”œåº¦è°ƒæ•´',desc:'æä»è±†è…ç”œåº¦åé«˜åé¦ˆï¼Œå»ºè®®å‡ç³–15%æˆ–æä¾›ä½ç³–é€‰é¡¹ã€‚',owner:'ç”œå“ç»„',due:'2/22'},
    {priority:'low',title:'ä¸Šé©¬åº—ç©ºè°ƒåˆ†åŒºæ¸©æ§',desc:'é çª—ä½ç½®é¡¾å®¢åé¦ˆåå†·ï¼Œå»ºè®®è°ƒæ•´ç©ºè°ƒå‡ºé£æ–¹å‘æˆ–æä¾›æ¯›æ¯¯ã€‚',owner:'å‰å…ç»ç†',due:'2/25'}
  ];
  var actEl=document.getElementById('actionList');
  actions.forEach(function(a){
    var item=el('div',{className:'action-item'},[
      el('div',{className:'action-priority '+a.priority}),
      el('div',{className:'action-body'},[
        el('div',{className:'action-title',textContent:a.title}),
        el('div',{className:'action-desc',textContent:a.desc}),
        el('div',{className:'action-meta'},[
          el('span',{className:'action-owner',textContent:a.owner}),
          el('span',{className:'action-due',textContent:'æˆªæ­¢ '+a.due})
        ])
      ])
    ]);
    actEl.appendChild(item);
  });

  // Radar Chart
  new Chart(document.getElementById('radarChart'),{
    type:'radar',
    data:{
      labels:['å£å‘³','æœåŠ¡','ç¯å¢ƒ','å«ç”Ÿ','é€Ÿåº¦','æ€§ä»·æ¯”'],
      datasets:[
        {label:'é‡ç™¾çµ',data:[9.1,8.5,8.8,8.2,7.6,8.4],borderColor:'#d97706',backgroundColor:'rgba(217,119,6,.12)',pointBackgroundColor:'#d97706',pointRadius:4,borderWidth:2},
        {label:'å®æ¡‚æ',data:[8.7,8.8,9.0,8.0,7.8,8.1],borderColor:'#0d9488',backgroundColor:'rgba(13,148,136,.12)',pointBackgroundColor:'#0d9488',pointRadius:4,borderWidth:2}
      ]
    },
    options:{
      responsive:true,maintainAspectRatio:false,
      plugins:{legend:{position:'bottom',labels:{color:'#57534e',usePointStyle:true,pointStyle:'circle',padding:16,font:{family:'Noto Sans SC',size:12}}}},
      scales:{
        r:{min:5,max:10,ticks:{display:false,stepSize:1},grid:{color:'rgba(0,0,0,.06)'},pointLabels:{color:'#57534e',font:{family:'Noto Sans SC',size:12,weight:'500'}},angleLines:{color:'rgba(0,0,0,.06)'}}
      }
    }
  });

})();
</script>
</body>
</html>
